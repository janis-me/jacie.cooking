---
import { getCollection } from 'astro:content';

import Layout from '#layouts/Main.astro';

import './index.css';

const recipes = await getCollection('recipes');
const featuredRecipes = recipes.filter(recipe => recipe.data.featured);
---

<Layout title="home - jacie.cooking" className="home">
  <section class="home-content">
    <h2>Beliebte Rezepte:</h2>
    {
      featuredRecipes.map(recipe => (
        <article class="recipe-card" style={`background-image: url(${recipe.data.coverImage})`}>
          <a href={`/recipes/${recipe.id}`} class="recipe-link">
            <h2 class="recipe-title">{recipe.data.title}</h2>
            {recipe.data.description && <p class="recipe-description">{recipe.data.description}</p>}
          </a>
        </article>
      ))
    }
  </section>

  <section class="bottom-section">
    <div class="bottom-waves"></div>
    <div class="bottom-content">
      <h2>Willkommen bei Jacie's KÃ¼che! ğŸª</h2>
      <p>
        Hier findest du leckere Rezepte, die mit Liebe kreiert wurden. Von klassischen Cookies bis hin zu kreativen
        Backideen â€“ lass dich inspirieren und probiere neue Geschmackserlebnisse aus!
      </p>
      <p>
        Jedes Rezept ist sorgfÃ¤ltig getestet und mit einfachen Anleitungen versehen, damit dein Backabenteuer zum Erfolg
        wird.
      </p>
    </div>
  </section>
</Layout>
